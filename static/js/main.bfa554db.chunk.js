(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports={shift:"Shift_shift__2_BwB",shift_moderable:"Shift_shift_moderable__3umq8",delete:"Shift_delete__3xv3Y"}},,function(e,t,a){e.exports={today:"Day_today__1aaki",day:"Day_day__1oYmF",inactiveDay:"Day_inactiveDay__1nLOp",label:"Day_label__2fr0H",todayLabel:"Day_todayLabel__29ZA4"}},,,,,function(e,t,a){e.exports={month:"Month_month__wD33q",monthName:"Month_monthName__3YnvL"}},function(e,t,a){e.exports={wrapper:"Moderation_wrapper__3KJeQ",block:"Moderation_block__3RLIh"}},function(e,t,a){e.exports={nav:"Navbar_nav__2z97S",menu:"Navbar_menu__3AoOa"}},,,,,function(e,t,a){e.exports={main:"Main_main__1FJaz"}},function(e,t,a){e.exports={wrapper:"CalendarGrid_wrapper__35HVh"}},function(e,t,a){e.exports={shifts:"ShiftList_shifts__3O5DE"}},function(e,t,a){e.exports={day:"WeekDay_day__2OsdJ"}},function(e,t,a){e.exports={weekDays:"Weekdays_weekDays__20uzg"}},function(e,t,a){e.exports={employee:"Employee_employee__uHnsY"}},function(e,t,a){e.exports={employees:"Employees_employees__1ak1Q"}},,,,,,,,,,,function(e,t,a){},function(e,t,a){},,,,function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(14),i=a.n(c),o=a(7),r=a(21),l=a(20),d=a(8),j={shifts:[],tempShifts:[],isChangedData:!1},m="ADD_SHIFT",h="REMOVE_SHIFT",b="COPY_SHIFTS",f="SYNCHRONIZE_ARRAYS",u=Object(r.a)({shiftReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)(Object(d.a)({},e),{},{tempShifts:[].concat(Object(l.a)(e.tempShifts),[t.shift]),isChangedData:!0});case h:return Object(d.a)(Object(d.a)({},e),{},{tempShifts:e.tempShifts.filter((function(e){return t.shift.id!==e.id})),isChangedData:!0});case b:return Object(d.a)(Object(d.a)({},e),{},{shifts:Object(l.a)(t.shifts),tempShifts:e.tempShifts=[],isChangedData:!1});case f:return Object(d.a)(Object(d.a)({},e),{},{tempShifts:e.shifts,isChangedData:!1});default:return e}}}),O=Object(r.b)(u,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),p=(a(41),a(42),a(9)),x=a(2),y=a(6),_=a(24),v=a.n(_),N=a(4),M=a.n(N),S=(a(44),a(17)),D=a.n(S),w=a(1),g=function(e){var t=Object.assign({},e);return Object(w.jsxs)("div",{className:D.a.month,children:[Object(w.jsx)("button",{type:"button",onClick:function(e){e.stopPropagation(),t.setToday(t.today.add(-1,"month")),t.setMonth(t.today.format("MMMM"))},children:Object(w.jsx)("span",{className:"material-icons",translate:"no",children:"navigate_before"})}),Object(w.jsx)("span",{className:D.a.monthName,children:t.nameMonth}),Object(w.jsx)("button",{type:"button",onClick:function(e){e.stopPropagation(),t.setToday(t.today.add(1,"month")),t.setMonth(t.today.format("MMMM"))},children:Object(w.jsx)("span",{className:"material-icons",translate:"no",children:"navigate_next"})})]})},k=a(25),E=a.n(k),C=a(12),R=a.n(C),L=a(47),T=a(26),H=a.n(T),I=a(10),Y=a.n(I),P=function(e){var t=e.shift,a=e.removeShift;return"/moderation"===Object(x.e)().pathname?Object(w.jsxs)("div",{className:Y.a.shift_moderable,children:[Object(w.jsx)("div",{className:Y.a.label,children:t.employee.name}),Object(w.jsx)("button",{className:Y.a.delete,role:"button",onClick:a(t),children:Object(w.jsx)("span",{className:"material-icons ".concat(Y.a.delete),children:"person_remove"})})]}):Object(w.jsx)("div",{className:Y.a.shift,children:Object(w.jsx)("div",{className:Y.a.label,children:t.employee.name})})},A=s.a.createContext({selectedEmployee:null});var B=function(e){var t=e.day,a=e.shifts,s=Object(o.b)(),c=Object(n.useContext)(A).selectedEmployee,i=function(e){return function(t){t.stopPropagation(),s({type:h,shift:e})}};return Object(w.jsx)("div",{className:H.a.shifts,onClick:function(){var e=a.map((function(e){return e.employee.id})),n={id:Object(L.a)(),employee:c,month:moment(t).format("M"),day:moment(t).format("D")};if("/moderation"===location.pathname){if(c)return void(e.includes(c.id)?alert("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0432\u0435 \u0441\u043c\u0435\u043d\u044b \u043e\u0434\u043d\u043e\u043c\u0443 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0443 \u0432 \u043e\u0434\u0438\u043d \u0434\u0435\u043d\u044c!"):s({type:m,shift:n}));alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432 \u0433\u0440\u0430\u0444\u0438\u043a!")}},children:a.map((function(e){return Object(w.jsx)(P,{shift:e,removeShift:i},e.id)}))})},F=function(e){var t=e.day;return t.thisMonth?Object(w.jsxs)("div",{className:R.a.today,children:[Object(w.jsx)("div",{className:R.a.label,children:t.day===window.moment().format("D MMM")?Object(w.jsx)("span",{className:R.a.todayLabel,children:t.day}):"".concat(t.day)}),Object(w.jsx)(B,{day:t.fullday,shifts:t.shifts})]}):Object(w.jsxs)("div",{className:R.a.inactiveDay,children:[Object(w.jsx)("div",{className:R.a.label,children:t.day}),Object(w.jsx)(B,{day:t.fullday,shifts:t.shifts})]})},J=function(e){var t=e.startDay,a=e.endDay,n=e.today,s=[],c=t.clone(),i=n.clone().startOf("month"),r=Object(x.e)(),l=Object(o.c)((function(e){return"/moderation"===r.pathname?e.shiftReducer.tempShifts:e.shiftReducer.shifts})),d=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s.push({id:Object(L.a)(),thisMonth:t,day:e.format("D MMM"),month:e.format("MM"),fullday:M()(e),shifts:l.filter((function(t){if(t.month==M()(e).format("M"))return t.day==M()(e).format("D")}))}),e.add(1,"day")};return function(){for(;c.isSameOrBefore(a);){for(;M()(c).isBefore(i);)d(c,!1);d(c)}}(),Object(w.jsx)("div",{className:E.a.wrapper,children:s.map((function(e){return Object(w.jsx)(F,{day:e},e.id)}))})},V=a(27),X=a.n(V),z=function(e){var t=e.day;return Object(w.jsx)("div",{className:X.a.day,children:t})},U=a(28),W=a.n(U),q=function(e){var t=e.week;return Object(w.jsx)("div",{className:W.a.weekDays,children:t.map((function(e,t){return Object(w.jsx)(z,{day:e},t)}))})};N.locale("ru");var Q=N.weekdays(!0);function Z(){var e=Object(n.useState)(N()),t=Object(y.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(a.format("MMMM")),i=Object(y.a)(c,2),o=i[0],r=i[1],l=N(a).startOf("month").startOf("week"),d=N(a).endOf("month");return Object(w.jsxs)("div",{className:v.a.main,children:[Object(w.jsx)(g,{nameMonth:o,setToday:s,setMonth:r,today:a}),Object(w.jsx)(q,{week:Q}),Object(w.jsx)(J,{startDay:l,endDay:d,today:a})]})}function G(){return Object(w.jsx)("div",{className:"admin"})}var K=a(18),$=a.n(K),ee=a(29),te=a.n(ee);function ae(e){var t=e.employee,a=e.selectingEmployee;return Object(w.jsxs)("label",{className:te.a.employee,children:[Object(w.jsx)("input",{type:"radio",value:t.name,name:"employee",id:t.id,onClick:function(e){return a(e)}}),Object(w.jsx)("span",{children:t.name})]})}var ne=a(30),se=a.n(ne);function ce(){var e=Object(n.useContext)(A).setSelectedEmployee,t=Object(n.useState)([{id:1,name:"\u0413\u0443\u0440\u043e\u0432 \u041f\u0430\u0432\u0435\u043b"},{id:2,name:"\u0411\u0435\u043b\u043e\u0437\u0435\u0440\u043e\u0432 \u0421\u0435\u0440\u0433\u0435\u0439"},{id:3,name:"\u041f\u043e\u043b\u044f\u043a \u0421\u0442\u0435\u043f\u0430\u043d"}]),a=Object(y.a)(t,1)[0];function s(t){t.stopPropagation(),e({id:t.target.id,name:t.target.value})}return Object(w.jsx)("div",{className:se.a.employees,children:a.map((function(e){return Object(w.jsx)(ae,{employee:e,selectingEmployee:s},e.id)}))})}function ie(){var e=Object(n.useState)(null),t=Object(y.a)(e,2),a=t[0],s=t[1],c=Object(o.b)(),i=Object(o.c)((function(e){return e.shiftReducer.shifts}));Object(o.c)((function(e){return e.shiftReducer.tempShifts}));return Object(n.useEffect)((function(){c({type:f,shifts:i})}),[]),Object(w.jsx)("div",{className:$.a.wrapper,children:Object(w.jsxs)(A.Provider,{value:{selectedEmployee:a,setSelectedEmployee:s},children:[Object(w.jsx)(Z,{}),Object(w.jsxs)("div",{className:$.a.block,children:[Object(w.jsx)("h3",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0435\u043c\u0443 \u0441\u043c\u0435\u043d\u044b, \u043d\u0430\u0436\u0438\u043c\u0430\u044f \u043d\u0430 \u043d\u0443\u0436\u043d\u044b\u0439 \u0412\u0430\u043c \u0434\u0435\u043d\u044c"}),Object(w.jsx)(ce,{})]})]})})}var oe=a(19),re=a.n(oe);function le(){var e=Object(x.e)(),t=Object(o.c)((function(e){return e.shiftReducer.isChangedData}));console.log(e.pathname);var a=function(){t&&console.log("Modal Window is opened")};return Object(w.jsx)("nav",{className:re.a.nav,children:Object(w.jsxs)("ul",{className:re.a.menu,children:["/"!==e.pathname?Object(w.jsx)("li",{onClick:a,children:Object(w.jsx)(p.b,{to:"/",className:"nav_button",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})}):null,"/moderation"!==e.pathname?Object(w.jsx)("li",{onClick:a,children:Object(w.jsx)(p.b,{to:"/moderation",className:"nav_button",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u0440\u0430\u0444\u0438\u043a"})}):null,"/admin"!==e.pathname?Object(w.jsx)("li",{onClick:a,children:Object(w.jsx)(p.b,{to:"/admin",className:"nav_button",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})}):null]})})}window.moment=N;var de=function(){var e=!0;return!1?Object(w.jsxs)(p.a,{basename:"/calendar/",children:[Object(w.jsxs)(x.c,{children:[Object(w.jsx)(x.a,{path:"/",element:Object(w.jsx)(Z,{})}),Object(w.jsx)(x.a,{path:"/moderation",element:Object(w.jsx)(ie,{})}),Object(w.jsx)(x.a,{path:"/admin",element:Object(w.jsx)(G,{})})]}),Object(w.jsx)(le,{})]}):e?Object(w.jsxs)(p.a,{children:[Object(w.jsxs)(x.c,{children:[Object(w.jsx)(x.a,{path:"/",element:Object(w.jsx)(Z,{})}),Object(w.jsx)(x.a,{path:"/moderation",element:Object(w.jsx)(ie,{})}),Object(w.jsx)(x.a,{path:"/admin",element:Object(w.jsx)("div",{children:"\u0423 \u0412\u0430\u0441 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u044d\u0442\u043e\u043c\u0443 URL"})})]}),Object(w.jsx)(le,{})]}):Object(w.jsx)(p.a,{style:{maxHeight:"100%"},children:Object(w.jsx)(x.c,{children:Object(w.jsx)(x.a,{path:"/",element:Object(w.jsx)(Z,{})})})})};i.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(o.a,{store:O,children:Object(w.jsx)(de,{style:{height:"100vh"}})})}),document.getElementById("root"))}],[[46,1,2]]]);
//# sourceMappingURL=main.bfa554db.chunk.js.map